<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dfamo - AI PDF Generator</title>
    <link rel="stylesheet" href="styles.css">

    <!-- jsPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style>
        /* ——————————————————— GLOBAL FIX ——————————————————— */
        .hidden {
            display: none !important;
        }

        /* ——————————————————— ALL EXISTING CSS KEPT SAME ——————————————————— */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; color: #fff; min-height: 100vh; overflow-x: hidden; }
        .bg-pattern { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
            background: radial-gradient(circle at 20% 50%, rgba(120,119,198,.15) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(147,51,234,.15) 0%, transparent 50%),
                        radial-gradient(circle at 40% 20%, rgba(59,130,246,.1) 0%, transparent 50%); }
        .grid-overlay { position: fixed; inset: 0; z-index: 0;
            background-image: linear-gradient(rgba(255,255,255,.02) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(255,255,255,.02) 1px, transparent 1px);
            background-size: 50px 50px; animation: gridMove 20s linear infinite; }
        @keyframes gridMove { 0% { transform: translate(0,0); } 100% { transform: translate(50px,50px); } }

        .container { position: relative; z-index: 1; max-width: 1400px; margin: auto; padding: 2rem; }

        .back-btn { position: absolute; top: 0; left: 0; padding: 12px 22px; border-radius: 12px; 
            background: linear-gradient(135deg,#6366f1,#8b5cf6); border: none; color: #fff; cursor: pointer; }

        header { text-align: center; margin-bottom: 4rem; }

        .logo-section { padding: 2rem; border-radius: 24px; background: rgba(255,255,255,.02); backdrop-filter: blur(20px); display: inline-block; }

        h1 { font-size: 5rem; font-weight: 900;
            background: linear-gradient(135deg,#fff,#a78bfa,#ec4899);
            -webkit-background-clip: text; color: transparent; animation: glow 2s infinite alternate; }

        @keyframes glow { from { filter: drop-shadow(0 0 20px rgba(167,139,250,.5)); } to { filter: drop-shadow(0 0 40px rgba(236,72,153,.7)); } }

        .subtitle { font-size: 1.25rem; color: #a78bfa; margin-top: 10px; }
        .tagline { margin-top: 1.5rem; color: #9ca3af; max-width: 600px; margin-inline: auto; }

        .main-grid { display: grid; gap: 2rem; }
        @media (min-width:1024px) {
            .main-grid { grid-template-columns: 1fr 1.2fr; }
        }

        .card { padding: 2rem; background: rgba(17,24,39,.6); backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,.1); border-radius: 24px; }

        .card-title { font-size: 1.75rem; background: linear-gradient(135deg,#fff,#a78bfa);
            -webkit-background-clip: text; color: transparent; }

        textarea { width: 100%; padding: 1rem; border-radius: 16px; background: rgba(31,41,55,.6);
            border: 2px solid rgba(255,255,255,.1); color: #fff; height: 200px; }

        .btn { padding: 1rem; border-radius: 16px; font-weight: bold; cursor: pointer; border: none; width: 100%; margin-top: 1rem; }
        .btn-primary { background: linear-gradient(135deg,#6366f1,#8b5cf6); color: #fff; }
        .btn-secondary { background: linear-gradient(135deg,#10b981,#059669); color: #fff; }
        .btn-tertiary { background: rgba(255,255,255,.1); border: 1px solid rgba(255,255,255,.2); color: #ccc; }

        /* Preview Content */
        .preview-content { margin-top: 1rem; padding: 1.5rem; border-radius: 16px; background: rgba(0,0,0,.4); max-height: 600px; overflow-y: auto; }
        .content h1 { font-size: 2rem; margin-bottom: .5rem; }
        .content h2 { font-size: 1.5rem; margin: 1rem 0 .5rem; }
        .content h3 { font-size: 1.25rem; margin: .75rem 0 .5rem; }
        .content p { line-height: 1.8; color: #cbd5e1; }

        .signature { font-size: .9rem; font-style: italic; text-align: center; margin-top: 2rem; color: #a78bfa; }
    </style>
</head>

<body>

<div class="bg-pattern"></div>
<div class="grid-overlay"></div>

<div class="container">
    <button onclick="window.location.href='https://dfamo.co.uk/'" class="back-btn">← Back</button>

    <header>
        <div class="logo-section">
            <h1>Dfamo</h1>
            <p class="subtitle">AI PDF Generator</p>
        </div>
        <p class="tagline">Transform your ideas into professional PDF assignments and notes instantly</p>
    </header>

    <!-- Error -->
    <div id="error-container" class="hidden">
        <div class="error-message" id="error-message"></div>
    </div>

    <div class="main-grid">

        <!-- LEFT SIDE -->
        <div class="card">
            <h2 class="card-title">Create Your Document</h2>

            <form id="assignment-form">
                <label>Topic or Instructions</label>
                <textarea id="prompt" required></textarea>

                <button type="submit" class="btn btn-primary" id="generate-btn">
                    <span id="btn-text">Generate Document</span>
                </button>
            </form>
        </div>

        <!-- RIGHT SIDE -->
        <div class="card">
            <h2 class="card-title">Preview</h2>

            <div class="button-group hidden" id="action-buttons">
                <button class="btn btn-secondary" id="download-btn">Download PDF</button>
                <button class="btn btn-tertiary" id="clear-btn">Clear</button>
            </div>

            <div class="preview-content">
                <div id="preview-empty">Your generated document will appear here</div>
                <div id="preview-content" class="content hidden"></div>
            </div>
        </div>
    </div>

    <footer><p>Powered by Dfamo AI • Created by Aryansh Rai</p></footer>

</div>

<!-- Connect external JS -->
<script src="pdfworker.js"></script>

</body>
</html>
